<script>
    let inputSkuData = [5290153,5290154,5290152,5337169,5254729,5105630,5143056,5093958,5262172,5322615,5306082,5322583,5321019,5309118,5292480,5282370,5253507,5295564,5277169,5295565,5304018,5342773,5262353,5262266,5262267,5262256,5262265,5262164,5253372,5277168,5309119,5309135,5309136,5309124,5322616,5322253,5322326,5323102,5338461,5338527,5338525,5338447,5327980,5338540,5338539,5338520,5327978,5338565,5338530,5338400,5338399,5338449,5338448,5338534,5287579,5310216,5310223,5327981,5297147,5338533,5338446,5338445,5338993,5338536,5326139,5338535,5338522,5325389,5325390,5302729,5298627,5303390,5303391,5338568,5338571,5338567,5305055,5305057,5305228,5338293,5321109,5338572,5321110,5320680,5321111,5321112,5300549,5247260,5209134,5285862,5304708,5314207,5301914,5135914,5302085,5304709,5263593,5263595,5153205,5319982,5319983,5319984,5237338,5304120,5197993,5333394,5219990,5266480,5219992,5219991,5211660,5294571,5294572,5294586,5294573,5338124,5199201,5199204,5140112,5286336,5124261,5159990,5124258,5199248,5299230,5150622,5287998,5149773,5247186,5264064,5276506,5237549,5220245,5294298,5304626,5344609,5344610,5344611,5307940,5310374,5276433,5322813,5262802,5322491,5299658,5337796,5182472,5306159,5322814,5306160,5338090,5284731,5322972,5306264,5306258,5306261,5321849,5014612,5334889,5321599,5334575,5321197,5321195,5309332,5342926,5298860,5332557,5336259,5199271,5199233,5173207,5199272,5173184,5173175,5305523,5294743,5305558,5305499,5305560,5305504,5305518,5305280,5305559,5337961,5339401,5142003,5339400,5320710,5320220,5339399,5337504,5336568,5343253,5339402,5338211,5320223,5339398,5339397,5319819,5305503,5250968,5175697,5195100,5195101,5315113,5311996,5333466,5315110,5290983,5315225,5342039,5329191,5318646,5318652,5318651,5318645,5318647,5318650,5318649,5336121,5336320,5336318,5336319,5336323,5336321,5336322,5334645,5334638,5334637,5334640,5334642,5334641,5290280,5290519,5290284,5296177,5290282,5290521,5290515,5290281,5290283,5329617,5329615,5329623,5329620,5329618,5342461,5329619,5329622,5270618,5335248,5174841,5340104,5107973,5305937,5237372];

//On load check for product carousel image tags
//TODO: Because jquery is hard to test unless publishing experiment, try to do an ajax complete on the CMS modifying component network call to make it more seemless    
window.addEventListener('load', () => {
  let productCardImageTags = document.getElementsByClassName("sparky-c-product-card__image");
  if(productCardImageTags.length > 0){
    carouselBadges(productCardImageTags);
  }
});

function carouselBadges(imageTags) {
  //Create Badge tag with styles and inner childs
  let badgeParentNode = document.createElement("div");
  badgeParentNode.setAttribute("class","sparky-c-badge bf-badge");
  let childNode = document.createElement("span");
  childNode.setAttribute("class","sparky-c-badge__text");
  childNode.innerText = "Black Friday";
  badgeParentNode.appendChild(childNode); 
  //console.log("NODE CREATED ", badgeParentNode);
  //Loop thru image tags
  for(let i = 0; i < imageTags.length; i++){
    //Grab the src url of the image and grab the SKU from the url
    let imgUrl = new URL(imageTags[i].src);
    let imgSku = imgUrl.pathname.substring(imgUrl.pathname.lastIndexOf("/") + 1);
    //Check if Array has current sku is in array
    if(inputSkuData.includes(parseInt(imgSku))){
      imageTags[i].parentElement.appendChild(badgeParentNode.cloneNode(true));
    }
  }
}
</script>

<style>
    /* TOP LEFT STYLE WITH BLACK BACKGROUND*/
    .bf-badge{
  background-color:#000 !important;
  position: absolute;
  left: 0;
  }
</style>